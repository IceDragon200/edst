<%= partial 'views/_head.txt.erb' %>
<% body_contents.each do |elem| %>
<%   case elem %>
<%   when Dialogue %>

<%=    elem.speaker.upcase.center(80) %>
<%=    escape_lines(elem.string, 40) { |s| (' ' * 20) + s } %>

<%   when Paragraph %>
<%     unless elem.string.empty? %>
<%=      escape_lines(elem.string, 76) { |s| (' ' * 2) + s } %>
<%     end %>

<%   when Label %>

<%     if elem.name.empty? %>
<%= '....'.center(80, ' ') %>
<%     else %>
<%= (label_id(elem.name) + ':').rjust(78, ' ') %>
<%= " #{elem.name} ".center(80, '.') %>
<%     end %>

<%   end %>
<% end %>


<%= partial 'views/_footer.txt.erb' %>
